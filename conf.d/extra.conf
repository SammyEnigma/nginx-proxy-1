

# Increase time waiting for response from upstream to 2mins
proxy_read_timeout 120s;

# Disable server tokens (e.g. version in server header)
server_tokens off;

# Allow larger content to be sent to server
# TODO: consider moving to location specific config
client_max_body_size 64M;
client_body_buffer_size 64M;

# CACHING
# Setup the proxy cache
### Levels options sets directory depth, and characters of md5 hash used at that level
### Inactive sets the time a cached item is cleared after last access
proxy_cache_path /var/cache/nginx levels=2:2:2 keys_zone=my-cache:10m max_size=2g inactive=60m use_temp_path=off;